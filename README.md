# Go Base Blog - ä¸ªäººåšå®¢ç³»ç»Ÿåç«¯

åŸºäº Go è¯­è¨€ã€Gin æ¡†æ¶å’Œ GORM åº“å¼€å‘çš„åšå®¢ç³»ç»Ÿåç«¯ï¼Œå®ç°åšå®¢æ–‡ç« çš„å®Œæ•´ CRUD æ“ä½œã€ç”¨æˆ·è®¤è¯å’Œè¯„è®ºåŠŸèƒ½ã€‚

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
- [è¿è¡Œç¯å¢ƒ](#è¿è¡Œç¯å¢ƒ)
- [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [å¯åŠ¨é¡¹ç›®](#å¯åŠ¨é¡¹ç›®)
- [API æ¥å£æ–‡æ¡£](#api-æ¥å£æ–‡æ¡£)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… ç”¨æˆ·æ³¨å†Œä¸ç™»å½•ï¼ˆå¯†ç  BCrypt åŠ å¯†ï¼‰
- âœ… JWT Token è®¤è¯ä¸æˆæƒ
- âœ… æ–‡ç«  CRUD æ“ä½œï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰
- âœ… è¯„è®ºåŠŸèƒ½ï¼ˆå‘è¡¨å’ŒæŸ¥çœ‹è¯„è®ºï¼‰
- âœ… ç”¨æˆ·æƒé™æ§åˆ¶ï¼ˆä»…ä½œè€…å¯ä¿®æ”¹/åˆ é™¤è‡ªå·±çš„æ–‡ç« ï¼‰
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†ä¸æ—¥å¿—è®°å½•
- âœ… æ•°æ®åº“è‡ªåŠ¨è¿ç§»

## ğŸ›  æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Go** | 1.25.2 | ç¼–ç¨‹è¯­è¨€ |
| **Gin** | v1.11.0 | Web æ¡†æ¶ |
| **GORM** | v1.31.0 | ORM åº“ |
| **MySQL** | 8.0+ | æ•°æ®åº“ |
| **JWT** | v5.3.0 | èº«ä»½è®¤è¯ |
| **BCrypt** | - | å¯†ç åŠ å¯† |

## ğŸ— é¡¹ç›®æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ç»å…¸çš„**ä¸‰å±‚æ¶æ„**è®¾è®¡ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Client Layer                   â”‚
â”‚            (HTTP Requests/Responses)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API Layer (Controller)              â”‚
â”‚  â€¢ æ¥æ”¶è¯·æ±‚ã€å‚æ•°éªŒè¯ã€è°ƒç”¨ Service              â”‚
â”‚  â€¢ æ–‡ä»¶: api/userApi.go, postApi.go ç­‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Service Layer (Business Logic)         â”‚
â”‚  â€¢ ä¸šåŠ¡é€»è¾‘å¤„ç†ã€æ•°æ®æ“ä½œã€æ—¥å¿—è®°å½•              â”‚
â”‚  â€¢ æ–‡ä»¶: server/userService.go, postService.go  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Model Layer (Data Model)            â”‚
â”‚  â€¢ æ•°æ®æ¨¡å‹å®šä¹‰ã€æ•°æ®åº“æ˜ å°„                      â”‚
â”‚  â€¢ æ–‡ä»¶: model/user.go, post.go, comment.go    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Database (MySQL)                 â”‚
â”‚            Tables: users, posts, comments        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. **Initialize æ¨¡å—** (`initialize/`)
- **database.go**: æ•°æ®åº“è¿æ¥ä¸é…ç½®è¯»å–
- **enter.go**: Service å±‚ä¾èµ–æ³¨å…¥
- **gin.go**: è·¯ç”±é…ç½®ä¸ä¸­é—´ä»¶è®¾ç½®

#### 2. **API æ¨¡å—** (`api/`)
- **userApi.go**: ç”¨æˆ·ç›¸å…³æ¥å£ï¼ˆæ³¨å†Œã€ç™»å½•ã€æŸ¥è¯¢ï¼‰
- **postApi.go**: æ–‡ç« ç›¸å…³æ¥å£ï¼ˆCRUDï¼‰
- **commentApi.go**: è¯„è®ºç›¸å…³æ¥å£
- **enter.go**: API å±‚ç»Ÿä¸€å…¥å£ï¼Œæ¥æ”¶ Service å®ä¾‹

#### 3. **Service æ¨¡å—** (`server/`)
- **userService.go**: ç”¨æˆ·ä¸šåŠ¡é€»è¾‘ï¼ˆå¯†ç åŠ å¯†ã€éªŒè¯ï¼‰
- **postService.go**: æ–‡ç« ä¸šåŠ¡é€»è¾‘
- **commentService.go**: è¯„è®ºä¸šåŠ¡é€»è¾‘
- **logService.go**: æ—¥å¿—è®°å½•æœåŠ¡
- **enter.go**: Service å±‚ç»Ÿä¸€åˆå§‹åŒ–

#### 4. **Model æ¨¡å—** (`model/`)
- **user.go**: ç”¨æˆ·æ¨¡å‹ï¼ˆUser ç»“æ„ä½“ï¼‰
- **post.go**: æ–‡ç« æ¨¡å‹ï¼ˆPost ç»“æ„ä½“ï¼‰
- **comment.go**: è¯„è®ºæ¨¡å‹ï¼ˆComment ç»“æ„ä½“ï¼‰
- **log.go**: æ—¥å¿—æ¨¡å‹ï¼ˆLog ç»“æ„ä½“ï¼‰
- **response.go**: ç»Ÿä¸€å“åº”æ ¼å¼

#### 5. **Middleware æ¨¡å—** (`middleware/`)
- **token.go**: JWT Token ç”Ÿæˆä¸éªŒè¯ä¸­é—´ä»¶

#### 6. **Utils æ¨¡å—** (`utils/`)
- **logger.go**: æ—¥å¿—å·¥å…·ï¼ˆLogInfo, LogErrorï¼‰

## ğŸ’» è¿è¡Œç¯å¢ƒ

### å¿…éœ€ç¯å¢ƒ

- **Go**: 1.25.2 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ç”¨äºå…‹éš†é¡¹ç›®ï¼ˆå¯é€‰ï¼‰

### æ¨èå¼€å‘å·¥å…·

- GoLand / VSCode
- Postman / Apifoxï¼ˆAPI æµ‹è¯•ï¼‰
- MySQL Workbench / Navicatï¼ˆæ•°æ®åº“ç®¡ç†ï¼‰

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®ï¼ˆæˆ–ä¸‹è½½æºç ï¼‰

```bash
git clone <repository-url>
cd go-base-blog
```

### 2. å®‰è£… Go ä¾èµ–

```bash
go mod download
```

å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯é…ç½®ä»£ç†ï¼š

```bash
go env -w GOPROXY=https://goproxy.cn,direct
go mod download
```

### 3. åˆ›å»º MySQL æ•°æ®åº“

```sql
CREATE DATABASE go_gorm CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 4. é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `config/db.toml` æ–‡ä»¶ï¼š

```toml
[mysql]
host = "127.0.0.1"
port = "3306"
name = "root"           # MySQL ç”¨æˆ·å
password = "root"       # MySQL å¯†ç 
charset = "utf8mb4"
database = "go_gorm"    # æ•°æ®åº“å

[server]
port = 8080            # æœåŠ¡å™¨ç«¯å£
timeout = 30
```

## ğŸš€ å¯åŠ¨é¡¹ç›®

### æ–¹å¼ 1ï¼šç›´æ¥è¿è¡Œ

```bash
go run main.go
```

### æ–¹å¼ 2ï¼šç¼–è¯‘åè¿è¡Œ

```bash
# ç¼–è¯‘
go build -o go-base-blog.exe main.go

# è¿è¡Œ
./go-base-blog.exe
```

### å¯åŠ¨æˆåŠŸæ ‡å¿—

å½“çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºæ—¶ï¼Œè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š

```
ğŸš€ å¯åŠ¨ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ...
2025/10/27 16:00:00 [INFO] 2025-10-27 16:00:00 - æ•°æ®åº“åœ°å€-ip:127.0.0.1, ç«¯å£=3306
2025/10/27 16:00:00 [INFO] 2025-10-27 16:00:00 - æœåŠ¡å™¨ç«¯å£: 8080
2025/10/27 16:00:00 [INFO] 2025-10-27 16:00:00 - æ•°æ®åº“mysqlè¿æ¥ç»„è£…åœ°å€: ...
2025/10/27 16:00:00 [INFO] 2025-10-27 16:00:00 - <<<<<<<<<<<<<<<<<<<<<<<<<< Gin åˆå§‹åŒ–
[GIN-debug] Listening and serving HTTP on :8080
```

æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ `http://localhost:8080`

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### å…¬å¼€æ¥å£ï¼ˆ/publicï¼‰

æ— éœ€è®¤è¯å³å¯è®¿é—®

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è¯·æ±‚ä½“ç¤ºä¾‹ |
|------|------|------|-----------|
| POST | `/public/register` | ç”¨æˆ·æ³¨å†Œ | `{"username":"user1","password":"123456","email":"user@email.com"}` |
| POST | `/public/login` | ç”¨æˆ·ç™»å½• | `{"username":"user1","password":"123456"}` |
| GET | `/public/getUser?uid=1` | è·å–ç”¨æˆ·ä¿¡æ¯ | - |
| GET | `/public/getPostList` | è·å–æ–‡ç« åˆ—è¡¨ | - |
| GET | `/public/getPost?pid=1` | è·å–æ–‡ç« è¯¦æƒ… | - |
| GET | `/public/getComList?pid=1` | è·å–æ–‡ç« è¯„è®ºåˆ—è¡¨ | - |

### è®¤è¯æ¥å£ï¼ˆ/privateï¼‰

éœ€è¦åœ¨ Header ä¸­æºå¸¦ Tokenï¼š`Authorization: Bearer <token>`

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è¯·æ±‚ä½“ç¤ºä¾‹ |
|------|------|------|-----------|
| POST | `/private/createPost` | åˆ›å»ºæ–‡ç«  | `{"title":"æ ‡é¢˜","content":"å†…å®¹","author":1,"userid":1}` |
| POST | `/private/createCom` | åˆ›å»ºè¯„è®º | `{"content":"è¯„è®ºå†…å®¹","postid":1,"userid":1}` |
| PUT | `/private/upPost` | æ›´æ–°æ–‡ç« ï¼ˆä»…ä½œè€…ï¼‰ | `{"id":1,"title":"æ–°æ ‡é¢˜","content":"æ–°å†…å®¹"}` |
| DELETE | `/private/delPost?pid=1` | åˆ é™¤æ–‡ç« ï¼ˆä»…ä½œè€…ï¼‰ | - |

### å“åº”æ ¼å¼

#### æˆåŠŸå“åº”

```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... }
}
```

#### å¤±è´¥å“åº”

```json
{
  "code": 500,
  "message": "é”™è¯¯ä¿¡æ¯"
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
go-base-blog/
â”œâ”€â”€ api/                      # API æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ commentApi.go        # è¯„è®º API
â”‚   â”œâ”€â”€ enter.go             # API ç»Ÿä¸€å…¥å£
â”‚   â”œâ”€â”€ postApi.go           # æ–‡ç«  API
â”‚   â””â”€â”€ userApi.go           # ç”¨æˆ· API
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ db.toml              # æ•°æ®åº“é…ç½®
â”œâ”€â”€ initialize/               # åˆå§‹åŒ–æ¨¡å—
â”‚   â”œâ”€â”€ database.go          # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ enter.go             # Service ä¾èµ–æ³¨å…¥
â”‚   â””â”€â”€ gin.go               # è·¯ç”±ä¸ä¸­é—´ä»¶é…ç½®
â”œâ”€â”€ middleware/               # ä¸­é—´ä»¶
â”‚   â””â”€â”€ token.go             # JWT è®¤è¯ä¸­é—´ä»¶
â”œâ”€â”€ model/                    # æ•°æ®æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ comment.go           # è¯„è®ºæ¨¡å‹
â”‚   â”œâ”€â”€ log.go               # æ—¥å¿—æ¨¡å‹
â”‚   â”œâ”€â”€ post.go              # æ–‡ç« æ¨¡å‹
â”‚   â”œâ”€â”€ response.go          # ç»Ÿä¸€å“åº”æ¨¡å‹
â”‚   â””â”€â”€ user.go              # ç”¨æˆ·æ¨¡å‹
â”œâ”€â”€ server/                   # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ commentService.go    # è¯„è®ºä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ enter.go             # Service ç»Ÿä¸€åˆå§‹åŒ–
â”‚   â”œâ”€â”€ logService.go        # æ—¥å¿—æœåŠ¡
â”‚   â”œâ”€â”€ postService.go       # æ–‡ç« ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ userService.go       # ç”¨æˆ·ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â””â”€â”€ logger.go            # æ—¥å¿—å·¥å…·
â”œâ”€â”€ go.mod                    # Go æ¨¡å—ä¾èµ–
â”œâ”€â”€ go.sum                    # ä¾èµ–ç‰ˆæœ¬é”å®š
â”œâ”€â”€ main.go                   # ç¨‹åºå…¥å£
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ æ•°æ®åº“è¡¨ç»“æ„

é¡¹ç›®ä½¿ç”¨ GORM çš„ AutoMigrate åŠŸèƒ½è‡ªåŠ¨åˆ›å»ºå’Œæ›´æ–°è¡¨ç»“æ„ã€‚

### Users è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| created_at | datetime | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | æ›´æ–°æ—¶é—´ |
| deleted_at | datetime | è½¯åˆ é™¤æ—¶é—´ |
| user_name | varchar(20) | ç”¨æˆ·åï¼Œå”¯ä¸€ |
| pass_word | varchar(255) | åŠ å¯†åçš„å¯†ç  |
| email | varchar(255) | é‚®ç®±ï¼Œå”¯ä¸€ |

### Posts è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| created_at | datetime | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | æ›´æ–°æ—¶é—´ |
| deleted_at | datetime | è½¯åˆ é™¤æ—¶é—´ |
| title | varchar(255) | æ–‡ç« æ ‡é¢˜ |
| content | text | æ–‡ç« å†…å®¹ |
| author | uint | ä½œè€… ID |
| user_id | uint | ç”¨æˆ· IDï¼ˆå¤–é”®ï¼‰ |

### Comments è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| created_at | datetime | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | æ›´æ–°æ—¶é—´ |
| deleted_at | datetime | è½¯åˆ é™¤æ—¶é—´ |
| content | text | è¯„è®ºå†…å®¹ |
| post_id | uint | æ–‡ç«  IDï¼ˆå¤–é”®ï¼‰ |
| user_id | uint | ç”¨æˆ· IDï¼ˆå¤–é”®ï¼‰ |

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨ `gofmt` æ ¼å¼åŒ–ä»£ç 
- å‡½æ•°å’Œå˜é‡å‘½åé‡‡ç”¨é©¼å³°å‘½åæ³•

### é”™è¯¯å¤„ç†

- ç»Ÿä¸€ä½¿ç”¨ `model.FailWithMessage()` è¿”å›é”™è¯¯
- å…³é”®æ“ä½œè®°å½•åˆ° Log è¡¨
- ä½¿ç”¨ `utils.LogInfo()` å’Œ `utils.LogError()` è®°å½•æ—¥å¿—

### å®‰å…¨å»ºè®®

1. **ç”Ÿäº§ç¯å¢ƒä¿®æ”¹é…ç½®**ï¼š
   - ä¿®æ”¹æ•°æ®åº“å¯†ç 
   - è®¾ç½®ç¯å¢ƒå˜é‡ `JWT_SECRET`
   - å¯ç”¨ HTTPS

2. **æ•°æ®éªŒè¯**ï¼š
   - æ‰€æœ‰è¾“å…¥æ•°æ®å·²æ·»åŠ  binding éªŒè¯
   - å¯†ç ä½¿ç”¨ BCrypt åŠ å¯†

3. **æƒé™æ§åˆ¶**ï¼š
   - `/private/*` è·¯ç”±éœ€è¦ JWT è®¤è¯
   - æ–‡ç« æ›´æ–°/åˆ é™¤éœ€éªŒè¯ä½œè€…èº«ä»½

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯**: `æ•°æ®åº“è¿æ¥å¤±è´¥: Error 1045: Access denied`

**è§£å†³**: æ£€æŸ¥ `config/db.toml` ä¸­çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®

### 2. ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `bind: address already in use`

**è§£å†³**: 
```bash
# Windows
netstat -ano | findstr :8080
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:8080 | xargs kill -9
```

### 3. å¤–é”®çº¦æŸå¤±è´¥

**é”™è¯¯**: `Cannot add or update a child row: a foreign key constraint fails`

**è§£å†³**: ç¡®ä¿åˆ›å»ºè¯„è®º/æ–‡ç« æ—¶ï¼Œç”¨æˆ· ID å’Œæ–‡ç«  ID åœ¨æ•°æ®åº“ä¸­çœŸå®å­˜åœ¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

Go Base Blog Development Team

---

**å¿«é€Ÿå¼€å§‹å‘½ä»¤**ï¼š

```bash
# 1. åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE go_gorm CHARACTER SET utf8mb4;"

# 2. é…ç½® config/db.toml

# 3. å®‰è£…ä¾èµ–
go mod download

# 4. å¯åŠ¨é¡¹ç›®
go run main.go
```

**æµ‹è¯•æ¥å£**ï¼š

```bash
# æ³¨å†Œç”¨æˆ·
curl -X POST http://localhost:8080/public/register \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"123456","email":"test@email.com"}'

# è·å–æ–‡ç« åˆ—è¡¨
curl http://localhost:8080/public/getPostList
```

ğŸ‰ **äº«å—ç¼–ç¨‹çš„ä¹è¶£ï¼**

